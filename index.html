<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Audio Player</title>

<!-- TailwindCSS -->
<script src="https://cdn.tailwindcss.com"></script>

</head>
<body class="bg-gray-100 min-h-screen">

<!-- Header -->
<div class="flex justify-between items-center p-4 border-b bg-white shadow">
    <h1 class="text-2xl font-bold text-blue-700">Hello James</h1>

    <div>
      <input type="date" class="border p-2 rounded shadow-sm" value="2025-12-06">
    </div>
</div>

<!-- Main Layout -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-4 p-4">

    <!-- LEFT COLUMN â€” PLAYLIST -->
    <div class="col-span-1 bg-white rounded-xl shadow p-4">
        <div class="text-gray-600 font-bold mb-3">
            DEC 6TH 2025  
            <span class="ml-2 bg-yellow-300 text-gray-800 px-2 py-1 rounded text-xs">Playlist/RSS</span>
        </div>

        <div id="playlist" class="overflow-y-auto h-[70vh] space-y-2">

            <!-- Example playlist items -->
            <div onclick="selectTrack(0)" 
                 class="track-item p-3 rounded cursor-pointer bg-pink-200 border-l-4 border-blue-600">
                <div class="font-semibold text-blue-900">working mum</div>
                <div class="text-sm text-gray-600">Politics</div>
            </div>

            <div onclick="selectTrack(1)" 
                 class="track-item p-3 rounded cursor-pointer bg-gray-200">
                <div class="font-semibold">Autism</div>
                <div class="text-sm text-gray-600">Business</div>
            </div>

            <div onclick="selectTrack(2)" 
                 class="track-item p-3 rounded cursor-pointer bg-gray-200">
                <div class="font-semibold">quantum physics turns 100</div>
                <div class="text-sm text-gray-600">Technology</div>
            </div>

            <div onclick="selectTrack(3)" 
                 class="track-item p-3 rounded cursor-pointer bg-gray-200">
                <div class="font-semibold"> Australia_s economy </div>
                <div class="text-sm text-gray-600">Australia</div>
            </div>
            <div onclick="selectTrack(4)" 
                 class="track-item p-3 rounded cursor-pointer bg-gray-200">
                <div class="font-semibold">can the Trump-Xi truce hold? </div>
                <div class="text-sm text-gray-600">China</div>
            </div>

        </div>
    </div>

    <!-- RIGHT COLUMN â€” PLAYER -->
    <div class="col-span-2 bg-white rounded-xl shadow p-4">

        <div id="trackTitle" class="text-xl font-bold">The world this week</div>
       

        <!-- Read Article Button -->
        <button class="mb-4 px-3 py-1 bg-yellow-300 text-gray-800 text-sm rounded shadow">
            Read Article
        </button>

        <!-- Player Controls -->
        <div class="bg-gray-50 border rounded-xl p-4 shadow">

            <div class="flex justify-center space-x-6 text-2xl mb-4">
                <button onclick="shuffleTrack()">ğŸ”€</button>
                <button onclick="prevTrack()">â®</button>
                <button onclick="togglePlay()" id="playBtn">â–¶</button>
                <button onclick="nextTrack()">â­</button>
                 <button onclick="nextOne()">â­â­</button>
                <button onclick="toggleRepeat()">ğŸ”</button>
            </div>

            <!-- Progress -->
            <div class="flex items-center space-x-2">
                <span id="currentTime">00:00</span>
                <input id="seek" type="range" min="0" max="100"
                       class="flex-1">
                <span id="duration">00:00</span>
            </div>

            <!-- Volume -->
            <div class="flex items-center space-x-2 mt-3">
                <span>ğŸ”Š</span>
                <input id="volume" type="range" min="0" max="1" step="0.01" value="0.8" class="w-40">
            </div>

        </div>
         <div id="trackDesc" class="overflow-y-auto h-[70vh] space-x-2 space-y-2"> placeholder </div>
       
        <audio id="audio"></audio>
    </div>

</div>

<script>
// ----------------------------
// PLAYLIST DATA
// ----------------------------
const playlist = [
    {
        title: "working Mum",
        desc: "Politics",
        files: ["./7a5f987b6334f44b325fea5fb71c23be.mp3"]
    },
    {
        title: "Autisim",
        desc: `
        <p>
        <li>grasping for an answerâ€æ˜¯ä¸€ä¸ªå›ºå®šæ­é…ï¼Œæ„æ€æ˜¯â€œç«­åŠ›å¯»æ‰¾ç­”æ¡ˆâ€æˆ–â€œ desperate for a solution</li>
        <li>â€œprohibitions do not present much of an obstacleâ€ï¼Œæ„æ€æ˜¯â€œç¦ä»¤å¹¶ä¸æ„æˆå¤ªå¤§éšœç¢â€</li>
        
        `,
        files: ["080 Science and technology - Autism-2a1652fa359f418ba18503a13a2d09ba.mp3"]
    },
    {
        title: "Unfinished business: quantum physics turns 100",
        desc: "how a mind-bending theory shapes modern technology",
        files: ["724597d29f25c681ed7e8ae3fae7a280.mp3","b748d6f0aa9a0df9003aff308af43a1c.mp3"]
    },
    {
        title: "Australia",
        files: ["025 Asia - Australia_s economy-d71f195f9838fe98cc0f788ed621e448.mp3"],
        desc: `
       For years Australia benefited from a booming Chinese economy. Ships full of iron ore and coal streamed out of the country. They not only earned Australia foreign exchange but also held up wages, swelled tax revenues and brought a run of budget surpluses. Yet now those good times are over. Chinaâ€™s economy is slowing; commodity prices are falling. Australia looks punch drunk.
Having won re-election in a landslide in May, Australiaâ€™s Labor government has a big mandate to do something about this. Jim Chalmers, the treasurer, says driving up productivity is his priority. The question now is whether his government has the toolsâ€”and the gumptionâ€”to reverse the countryâ€™s economic problems.
The numbers are bleak. Productivity growth slumped between 2019 and 2024: Australia now ranks second-last, ahead only of Mexico, according to the OECD, a club mostly of rich countries. Since 2021 Australiansâ€™ disposable incomes have declined, and faster than in any other country in the OECD, partly due to weak wage growth and tax brackets that are not indexed to inflation. Young Australians fear they will not live as well as their parents. They face soaring housing costs as well as bills for tackling climate change and for supporting an ageing population, according to Danielle Wood of the Productivity Commission, a government agency that reviews economic policy. Firms grumble that Australia has the second-highest corporate-tax rate in the rich world and that they must navigate a labyrinth of state and federal regulations.
Mr Chalmers wants this to change. He has complained that Australian firms are not sufficiently innovative, that companies invest too little and that workers lack essential skills. In August the government convened 30 leaders from business, trade unions and community organisations to begin discussing economic reforms.
One of the contentious issues relates to the tax system. Awareness is growing that it unfairly favours older Australians, leaving younger workers to shoulder the burden through income tax. Economists who attended the governmentâ€™s roundtable called for raising taxes on capital gains. This would be done by trimming big discounts presently offered to people selling properties they have owned for more than a year. They also want to reform family trusts, which allow the well-off to spread income among relatives in lower tax brackets, and to make tax breaks for people with big pensions savings less generous.
Australiaâ€™s housing woes do not help matters. Many young workers feel locked out of home ownership. That is true in much of the world, but housing in Australia is especially scarce. Data show it has fewer dwellings per 1,000 people than most other rich countries. Renters spend roughly one-third of their median household income on rent while mortgage-holders spend 50% on repayments. Reform is hard because so many Australian voters have their wealth tied up in housing, says Aruna Sathanapally of the Grattan Institute, a think-tank in Melbourne.
Recent history suggests Australia is capable of making big economic leaps. Governments in the 1980s and 1990s floated the Australian dollar, opened the country up to trade and made saving for retirement compulsory. Yet in the past 15 years Australian governments have become much more cautious. Part of the problem is that they have had their fingers burnt by some high-profile policy failures, including a mining tax and a carbon price.
Today no single change can hoist productivity growth back to its long-term average of 1.6% a year, according to Ms Wood of the Productivity Commission. Instead, the country needs many smaller shifts: faster approvals, simpler rules. â€œIn movie parlance,â€ she said in a recent speech, â€œless â€˜Oppenheimerâ€™ and more â€˜Everything Everywhere All At Onceâ€™â€. Australiaâ€™s future no longer relies on shipping mountains of ore to Chinaâ€”but in chipping away doggedly at the obstacles that hold back its growth.         
        `,
    },
        {
        title: "Deal or no deal",
        desc: "After months of open hostility, Donald Trump and Xi Jinping called a truce in South Korea. But will it hold? And does it expose deeper issues in the countriesâ€™ relationship?",
        files: ["d684427bcdc20720be38ea697c1171e5.mp3"]
    },
];

let currentIndex = 0;
let currentTrack = 0;
let audio = document.getElementById("audio");

// ----------------------------
// LOAD TRACK
// ----------------------------
function loadTrack(index) {
    currentIndex = index;
    currentTrack = 0;
    audio.src = playlist[index].files[currentTrack];

    document.getElementById("trackTitle").textContent = playlist[index].title;
    document.getElementById("trackDesc").innerHTML  = playlist[index].desc;
    highlightSelection();

}

// Highlight selected track
function highlightSelection() {
    let items = document.querySelectorAll(".track-item");
    items.forEach((el, i) => {
        el.classList.remove("bg-pink-200", "border-l-4", "border-blue-600");
        if (i === currentIndex) {
            el.classList.add("bg-pink-200", "border-l-4", "border-blue-600");
        }
    });
}

// ----------------------------
// USER ACTIONS
// ----------------------------
function selectTrack(i) {
    loadTrack(i);
    audio.play();
    updatePlayButton();
    
    audio.onended = () => {
    currentTrack++;
    if (currentTrack < playlist[i].files.length) {
      audio.src = playlist[i].files[currentTrack];
      audio.play();
    }
  };
}

function togglePlay() {
    if (audio.paused) audio.play();
    else audio.pause();
    updatePlayButton();
}

function prevTrack() {
    currentIndex = (currentIndex - 1 + playlist.length) % playlist.length;
    loadTrack(currentIndex);
    audio.play();
    updatePlayButton();

    audio.onended = () => {
    currentTrack++;
    if (currentTrack < playlist[currentIndex].files.length) {
      audio.src = playlist[currentIndex].files[currentTrack];
      audio.play();
    }
  };
}

function nextTrack() {
    currentIndex = (currentIndex + 1) % playlist.length;
    loadTrack(currentIndex);
    audio.play(); 
    updatePlayButton();

    audio.onended = () => {
    currentTrack++;
    if (currentTrack < playlist[currentIndex].files.length) {
      audio.src = playlist[currentIndex].files[currentTrack];
      audio.play();
    }
  }; 

}    

function nextOne() {
 //   currentIndex = (currentIndex + 1) % playlist.length;
    loadTrack(currentIndex);
    currentTrack++;
    if (currentTrack < playlist[currentIndex].files.length) {
      audio.src = playlist[currentIndex].files[currentTrack];
      audio.play();
    }
    updatePlayButton();

     

}

function shuffleTrack() {
    currentIndex = Math.floor(Math.random() * playlist.length);
    loadTrack(currentIndex);
    audio.play();

        audio.onended = () => {
    currentTrack++;
    if (currentTrack < playlist[currentIndex].files.length) {
      audio.src = playlist[currentIndex].files[currentTrack];
      audio.play();
    }
  };

}

let repeat = false;
function toggleRepeat() {
    repeat = !repeat;
    audio.loop = repeat;
}

// ----------------------------
// PLAYER UI UPDATE
// ----------------------------
function updatePlayButton() {
    document.getElementById("playBtn").textContent = audio.paused ? "â–¶" : "â¸";

     
}

// Update Seek + Time
audio.addEventListener("timeupdate", () => {
    let seek = document.getElementById("seek");
    seek.value = (audio.currentTime / audio.duration) * 100;

    document.getElementById("currentTime").textContent =
        formatTime(audio.currentTime);
    document.getElementById("duration").textContent =
        formatTime(audio.duration);
});

// Seek manually
document.getElementById("seek").addEventListener("input", function () {
    audio.currentTime = (this.value / 100) * audio.duration;
});

// Volume control
document.getElementById("volume").addEventListener("input", function () {
    audio.volume = this.value;
});

// Time formatter
function formatTime(sec) {
    if (!sec) return "00:00";
    let m = Math.floor(sec / 60);
    let s = Math.floor(sec % 60);
    return String(m).padStart(2, "0") + ":" + String(s).padStart(2, "0");
}

// Load first track on startup
loadTrack(0);
updatePlayButton();

</script>

</body>
</html>
