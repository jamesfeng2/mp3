<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Audio Player</title>

<!-- TailwindCSS -->
<script src="https://cdn.tailwindcss.com"></script>

</head>
<body class="bg-gray-100 min-h-screen">

<!-- Header -->
<div class="flex justify-between items-center p-4 border-b bg-white shadow">
    <h1 class="text-2xl font-bold text-blue-700">Hello James</h1>

    <div>
      <input type="date" class="border p-2 rounded shadow-sm" value="2025-12-06">
    </div>
</div>

<!-- Main Layout -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-4 p-4">

    <!-- LEFT COLUMN â€” PLAYLIST -->
    <div class="col-span-1 bg-white rounded-xl shadow p-4">
        <div class="text-gray-600 font-bold mb-3">
            DEC 6TH 2025  
            <span class="ml-2 bg-yellow-300 text-gray-800 px-2 py-1 rounded text-xs">Playlist/RSS</span>
        </div>

        <div id="playlist" class="overflow-y-auto h-[70vh] space-y-2">

            <!-- Example playlist items -->
            <div onclick="selectTrack(0)" 
                 class="track-item p-3 rounded cursor-pointer bg-pink-200 border-l-4 border-blue-600">
                <div class="font-semibold text-blue-900">working mum</div>
                <div class="text-sm text-gray-600">Politics</div>
            </div>

            <div onclick="selectTrack(1)" 
                 class="track-item p-3 rounded cursor-pointer bg-gray-200">
                <div class="font-semibold">Autism</div>
                <div class="text-sm text-gray-600">Business</div>
            </div>

            <div onclick="selectTrack(2)" 
                 class="track-item p-3 rounded cursor-pointer bg-gray-200">
                <div class="font-semibold">quantum physics turns 100</div>
                <div class="text-sm text-gray-600">Technology</div>
            </div>

    

        </div>
    </div>

    <!-- RIGHT COLUMN â€” PLAYER -->
    <div class="col-span-2 bg-white rounded-xl shadow p-4">

        <div id="trackTitle" class="text-xl font-bold">The world this week</div>
        <div id="trackDesc" class="text-gray-600 mb-3">Politics</div>

        <!-- Read Article Button -->
        <button class="mb-4 px-3 py-1 bg-yellow-300 text-gray-800 text-sm rounded shadow">
            Read Article
        </button>

        <!-- Player Controls -->
        <div class="bg-gray-50 border rounded-xl p-4 shadow">

            <div class="flex justify-center space-x-6 text-2xl mb-4">
                <button onclick="shuffleTrack()">ğŸ”€</button>
                <button onclick="prevTrack()">â®</button>
                <button onclick="togglePlay()" id="playBtn">â–¶</button>
                <button onclick="nextTrack()">â­</button>
                <button onclick="toggleRepeat()">ğŸ”</button>
            </div>

            <!-- Progress -->
            <div class="flex items-center space-x-2">
                <span id="currentTime">00:00</span>
                <input id="seek" type="range" min="0" max="100"
                       class="flex-1">
                <span id="duration">00:00</span>
            </div>

            <!-- Volume -->
            <div class="flex items-center space-x-2 mt-3">
                <span>ğŸ”Š</span>
                <input id="volume" type="range" min="0" max="1" step="0.01" value="0.8" class="w-40">
            </div>

        </div>
        <div>
            <p>
                <li>â€œgrasping for an answerâ€æ˜¯ä¸€ä¸ªå›ºå®šæ­é…ï¼Œæ„æ€æ˜¯â€œç«­åŠ›å¯»æ‰¾ç­”æ¡ˆâ€æˆ–â€œ desperate for a solutionâ€ã€‚</li>
                <li></li>
            </p>
        </div>
        <audio id="audio"></audio>
    </div>

</div>

<script>
// ----------------------------
// PLAYLIST DATA
// ----------------------------
const playlist = [
    {
        title: "working Mum",
        desc: "Politics",
        file: "./7a5f987b6334f44b325fea5fb71c23be.mp3"
    },
    {
        title: "Autisim",
        desc: "Business",
        file: "080 Science and technology - Autism-2a1652fa359f418ba18503a13a2d09ba.mp3"
    },
    {
        title: "Unfinished business: quantum physics turns 100",
        desc: "how a mind-bending theory shapes modern technology",
        file: "724597d29f25c681ed7e8ae3fae7a280.mp3"
    },
    {
        title: "Leaders",
        desc: "How AI is rewiring childhood",
        file: "music/track4.mp3"
    }
];

let currentIndex = 0;
let audio = document.getElementById("audio");

// ----------------------------
// LOAD TRACK
// ----------------------------
function loadTrack(index) {
    currentIndex = index;
    audio.src = playlist[index].file;

    document.getElementById("trackTitle").textContent = playlist[index].title;
    highlightSelection();
  
    document.getElementById("trackDesc").textContent = playlist[index].desc;

}

// Highlight selected track
function highlightSelection() {
    let items = document.querySelectorAll(".track-item");
    items.forEach((el, i) => {
        el.classList.remove("bg-pink-200", "border-l-4", "border-blue-600");
        if (i === currentIndex) {
            el.classList.add("bg-pink-200", "border-l-4", "border-blue-600");
        }
    });
}

// ----------------------------
// USER ACTIONS
// ----------------------------
function selectTrack(i) {
    loadTrack(i);
    audio.play();
    updatePlayButton();
}

function togglePlay() {
    if (audio.paused) audio.play();
    else audio.pause();
    updatePlayButton();
}

function prevTrack() {
    currentIndex = (currentIndex - 1 + playlist.length) % playlist.length;
    loadTrack(currentIndex);
    audio.play();
    updatePlayButton();
}

function nextTrack() {
    currentIndex = (currentIndex + 1) % playlist.length;
    loadTrack(currentIndex);
    audio.play();
    updatePlayButton();
}

function shuffleTrack() {
    currentIndex = Math.floor(Math.random() * playlist.length);
    loadTrack(currentIndex);
    audio.play();
}

let repeat = false;
function toggleRepeat() {
    repeat = !repeat;
    audio.loop = repeat;
}

// ----------------------------
// PLAYER UI UPDATE
// ----------------------------
function updatePlayButton() {
    document.getElementById("playBtn").textContent = audio.paused ? "â–¶" : "â¸";
}

// Update Seek + Time
audio.addEventListener("timeupdate", () => {
    let seek = document.getElementById("seek");
    seek.value = (audio.currentTime / audio.duration) * 100;

    document.getElementById("currentTime").textContent =
        formatTime(audio.currentTime);
    document.getElementById("duration").textContent =
        formatTime(audio.duration);
});

// Seek manually
document.getElementById("seek").addEventListener("input", function () {
    audio.currentTime = (this.value / 100) * audio.duration;
});

// Volume control
document.getElementById("volume").addEventListener("input", function () {
    audio.volume = this.value;
});

// Time formatter
function formatTime(sec) {
    if (!sec) return "00:00";
    let m = Math.floor(sec / 60);
    let s = Math.floor(sec % 60);
    return String(m).padStart(2, "0") + ":" + String(s).padStart(2, "0");
}

// Load first track on startup
loadTrack(0);
updatePlayButton();

</script>

</body>
</html>
